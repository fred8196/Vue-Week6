{"version":3,"sources":["webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?e63b"],"names":["class","for","type","id","userLogin","required","autofocus","user","username","password","data","methods","url","this","$http","post","then","res","console","log","success","token","expired","document","cookie","Date","title","message","icon","button","timer","setTimeout","$router","push","catch","err","render"],"mappings":"0IACOA,MAAM,a,EACT,yBAAa,UAAT,QAAI,G,GACHA,MAAM,8B,GACJA,MAAM,S,GAEFA,MAAM,sB,EAST,yBAA2C,SAApCC,IAAI,YAAW,iBAAa,G,GAEhCD,MAAM,iB,EAST,yBAAsC,SAA/BC,IAAI,YAAW,YAAQ,G,EAEhC,yBAES,UAFDD,MAAM,oCAAoCE,KAAK,UAAS,QAEhE,G,wDA7BR,yBAiCM,MAjCN,EAiCM,CAhCJ,EACA,yBA8BM,MA9BN,EA8BM,CA7BJ,yBA4BM,MA5BN,EA4BM,CA3BJ,yBA0BO,QA1BDC,GAAG,OAAOH,MAAM,cAAe,SAAM,0DAAU,EAAAI,WAAA,EAAAA,UAAA,qBAAS,e,CAC5D,yBAUM,MAVN,EAUM,C,4BATJ,yBAOE,SANAF,KAAK,QACLF,MAAM,eACNG,GAAG,WACHE,SAAA,GACAC,UAAA,G,qDACS,EAAAC,KAAKC,SAAQ,K,4BAAb,EAAAD,KAAKC,YAEhB,IAEF,yBAUM,MAVN,EAUM,C,4BATJ,yBAOE,SANAN,KAAK,WACLF,MAAM,eACNG,GAAG,WACHE,SAAA,G,qDACS,EAAAE,KAAKE,SAAQ,IACrB,QAAK,qDAAQ,EAAAL,WAAA,EAAAA,UAAA,qBAAS,a,4BADd,EAAAG,KAAKE,YAGhB,IAEF,G,6CAWK,GACbC,KADa,WAEX,MAAO,CACLH,KAAM,CACJC,SAAU,GACVC,SAAU,MAIhBE,QAAS,CACPP,UADO,WACM,WACLQ,EAAE,UAAO,uCAAP,iBACRC,KAAKC,MACFC,KAAKH,EAAKC,KAAKN,MACfS,MAAK,SAAAC,GAEJ,GADAC,QAAQC,IAAIF,GACRA,EAAIP,KAAKU,QAAS,CACpBF,QAAQC,IAAIF,GACZ,MAA2BA,EAAIP,KAAvBW,EAAR,EAAQA,MAAOC,EAAf,EAAeA,QACfC,SAASC,OAAT,mBAA8BH,EAA9B,oBAA+C,IAAII,KAAKH,GAAxD,KACA,IAAK,CACHI,MAAOT,EAAIP,KAAKiB,QAChBC,KAAM,UACNC,QAAQ,EACRC,MAAO,MAETC,YAAW,WACT,EAAKC,QAAQC,KAAK,qBACjB,UAEH,IAAK,CACHP,MAAOT,EAAIP,KAAKiB,QAChBC,KAAM,QACNC,QAAQ,EACRC,MAAO,SAIZI,OAAM,SAAAC,GACLjB,QAAQC,IAAIgB,SC3EtB,EAAOC,OAASA,EAED","file":"js/chunk-2d2086b7.29702790.js","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <h1>登入後台</h1>\r\n    <div class=\"row justify-content-center\">\r\n      <div class=\"col-3\">\r\n        <form id=\"form\" class=\"form-signin\" @submit.prevent=\"userLogin\">\r\n          <div class=\"form-floating mb-3\">\r\n            <input\r\n              type=\"email\"\r\n              class=\"form-control\"\r\n              id=\"username\"\r\n              required\r\n              autofocus\r\n              v-model=\"user.username\"\r\n            />\r\n            <label for=\"username\">Email address</label>\r\n          </div>\r\n          <div class=\"form-floating\">\r\n            <input\r\n              type=\"password\"\r\n              class=\"form-control\"\r\n              id=\"password\"\r\n              required\r\n              v-model=\"user.password\"\r\n              @keyup.enter=\"userLogin\"\r\n            />\r\n            <label for=\"password\">Password</label>\r\n          </div>\r\n          <button class=\"btn btn-lg btn-primary w-100 mt-3\" type=\"submit\">\r\n            登入\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport swal from 'sweetalert'\r\nexport default {\r\n  data () {\r\n    return {\r\n      user: {\r\n        username: '',\r\n        password: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    userLogin () {\r\n      const url = `${process.env.VUE_APP_API}/admin/signin`\r\n      this.$http\r\n        .post(url, this.user)\r\n        .then(res => {\r\n          console.log(res)\r\n          if (res.data.success) {\r\n            console.log(res)\r\n            const { token, expired } = res.data\r\n            document.cookie = `hexToken=${token};expires=${new Date(expired)};`\r\n            swal({\r\n              title: res.data.message,\r\n              icon: 'success',\r\n              button: false,\r\n              timer: 1000\r\n            })\r\n            setTimeout(() => {\r\n              this.$router.push('/admin/products')\r\n            }, 1000)\r\n          } else {\r\n            swal({\r\n              title: res.data.message,\r\n              icon: 'error',\r\n              button: false,\r\n              timer: 1000\r\n            })\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Login.vue?vue&type=template&id=831f1988\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}