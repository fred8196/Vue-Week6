{"version":3,"sources":["webpack:///./src/views/Products.vue","webpack:///./src/views/Products.vue?95da"],"names":["class","style","role","active","isLoading","products","item","key","id","imageUrl","title","origin_price","price","type","addToCart","disabled","addToCartItemId","to","data","methods","getProducts","this","url","$http","get","then","res","success","itemId","itemTitle","qty","post","product_id","message","icon","button","timer","catch","err","console","log","created","render"],"mappings":"0IACOA,MAAM,a,GAEFA,MAAM,sB,EACX,yBASQ,cARN,yBAOK,WANH,yBAAa,UAAT,QACJ,yBAAa,UAAT,QACJ,yBAAW,UAAP,MACJ,yBAAW,UAAP,MACJ,yBAAW,UAAP,MACJ,yBAAa,UAAT,Y,MAKAC,MAAA,iB,6BAyBED,MAAM,+BACNE,KAAK,U,+BACF,W,+BASJ,Q,sJAnDb,yBAyDM,MAzDN,EAyDM,CAxDJ,yBAAuC,GAA7BC,OAAQ,EAAAC,WAAS,mBAC3B,yBAsDQ,QAtDR,EAsDQ,CArDN,EAUA,yBA0CQ,e,2BAzCN,yBAwCK,2CAxCc,EAAAC,UAAQ,SAAhBC,G,gCAAX,yBAwCK,MAxCyBC,IAAKD,EAAKE,I,CACtC,yBAKK,KALL,EAKK,CAJH,yBAGO,OAFLP,MAA0E,CAA1E,0EAA0E,+BACxCK,EAAKG,SADmC,Q,UAI9E,yBAAyB,uCAAlBH,EAAKI,OAAK,GACjB,yBAKK,WAJQJ,EAAKK,aAAeL,EAAKM,O,yBAApC,yBAEQ,qCADNN,EAAKK,cAAY,K,yBAEnB,yBAAyC,qCAA1BL,EAAKK,cAAY,MAElC,yBAEK,uCADAL,EAAKM,OAAK,GAEf,yBAcK,WAbH,yBAYS,UAXPC,KAAK,SACLb,MAAM,0BACL,QAAK,mBAAE,EAAAc,UAAUR,EAAKE,GAAIF,EAAKI,QAC/BK,SAAU,EAAAC,kBAAoBV,EAAKE,I,CAG5B,EAAAQ,kBAAoBV,EAAKE,I,yBADjC,yBAIK,IAJL,I,sEAQJ,yBAOK,WANH,yBAKC,GAJES,GAAE,mBAAcX,EAAKE,IACtBP,MAAA,2BACAD,MAAM,6B,+BACL,iBAAI,C,8EAWJ,GACbkB,KADa,WAEX,MAAO,CACLb,SAAU,GACVD,WAAW,EACXY,gBAAiB,KAGrBG,QAAS,CACPC,YADO,WACQ,WACbC,KAAKjB,WAAY,EACjB,IAAMkB,EAAE,UAAO,uCAAP,gBAAsC,WAAtC,iBACRD,KAAKE,MAAMC,IAAIF,GAAKG,MAAK,SAAAC,GACnBA,EAAIR,KAAKS,UACX,EAAKtB,SAAWqB,EAAIR,KAAKb,SACzB,EAAKD,WAAY,OAIvBU,UAXO,SAWIc,EAAQC,GAAoB,WAATC,EAAS,uDAAH,EAClCT,KAAKL,gBAAkBY,EACvB,IAAMN,EAAE,UAAO,uCAAP,gBAAsC,WAAtC,SACRD,KAAKE,MACFQ,KAAKT,EAAK,CACTJ,KAAM,CACJc,WAAYJ,EACZE,IAAKA,KAGRL,MAAK,SAAAC,GACAA,EAAIR,KAAKS,UACX,IAAK,CACHjB,MAAOmB,EAAYH,EAAIR,KAAKe,QAC5BC,KAAM,UACNC,QAAQ,EACRC,MAAO,MAET,EAAKpB,gBAAkB,OAG1BqB,OAAM,SAAAC,GACLC,QAAQC,IAAIF,QAIpBG,QA7Ca,WA8CXpB,KAAKD,gBC1GT,EAAOsB,OAASA,EAED","file":"js/chunk-2d2261a6.e625fbd0.js","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <Loading :active=\"isLoading\"></Loading>\r\n    <table class=\"table align-middle\">\r\n      <thead>\r\n        <tr>\r\n          <th>產品圖片</th>\r\n          <th>產品名稱</th>\r\n          <th>原價</th>\r\n          <th>特價</th>\r\n          <th>選購</th>\r\n          <th>產品細節</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"item in products\" :key=\"item.id\">\r\n          <td style=\"width: 200px\">\r\n            <div\r\n              style=\"height: 150px; background-size: cover; background-position: center\"\r\n              :style=\"{ backgroundImage: `url(${item.imageUrl})` }\"\r\n            ></div>\r\n          </td>\r\n          <td>{{ item.title }}</td>\r\n          <td>\r\n            <del v-if=\"item.origin_price > item.price\">{{\r\n              item.origin_price\r\n            }}</del>\r\n            <div v-else>{{ item.origin_price }}</div>\r\n          </td>\r\n          <td>\r\n            {{ item.price }}\r\n          </td>\r\n          <td>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-outline-primary\"\r\n              @click=\"addToCart(item.id, item.title)\"\r\n              :disabled=\"addToCartItemId === item.id\"\r\n            >\r\n              <i\r\n                v-if=\"addToCartItemId === item.id\"\r\n                class=\"spinner-grow spinner-grow-sm\"\r\n                role=\"status\"\r\n              ></i>\r\n              加入購物車\r\n            </button>\r\n          </td>\r\n          <td>\r\n            <router-link\r\n              :to=\"`/product/${item.id}`\"\r\n              style=\"text-decoration:none\"\r\n              class=\"btn btn-outline-secondary\"\r\n              >查看更多</router-link\r\n            >\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport swal from 'sweetalert'\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: [],\r\n      isLoading: false,\r\n      addToCartItemId: ''\r\n    }\r\n  },\r\n  methods: {\r\n    getProducts () {\r\n      this.isLoading = true\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`\r\n      this.$http.get(url).then(res => {\r\n        if (res.data.success) {\r\n          this.products = res.data.products\r\n          this.isLoading = false\r\n        }\r\n      })\r\n    },\r\n    addToCart (itemId, itemTitle, qty = 1) {\r\n      this.addToCartItemId = itemId\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`\r\n      this.$http\r\n        .post(url, {\r\n          data: {\r\n            product_id: itemId,\r\n            qty: qty\r\n          }\r\n        })\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            swal({\r\n              title: itemTitle + res.data.message,\r\n              icon: 'success',\r\n              button: false,\r\n              timer: 1000\r\n            })\r\n            this.addToCartItemId = ''\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    }\r\n  },\r\n  created () {\r\n    this.getProducts()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Products.vue?vue&type=template&id=25ad454d\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}