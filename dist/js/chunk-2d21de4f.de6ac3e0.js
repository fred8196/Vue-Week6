(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21de4f"],{d2f1:function(t,e,c){"use strict";c.r(e);var o=c("7a23"),d={class:"container"},r={class:"table align-middle"},a=Object(o["createVNode"])("thead",null,[Object(o["createVNode"])("tr",null,[Object(o["createVNode"])("td",null,"分類"),Object(o["createVNode"])("td",null,"圖片"),Object(o["createVNode"])("td",null,"名稱"),Object(o["createVNode"])("td",null,"售價"),Object(o["createVNode"])("td",null,"購買")])],-1),n={style:{width:"200px"}},i={key:0,class:"h5"},u={key:1,class:"h6"},l={key:2,class:"h5"},s={class:"btn-group btn-group-sm"},p={class:"input-group mb-3"},b={key:0,class:"spinner-grow spinner-grow-sm",role:"status"},j=Object(o["createTextVNode"])(" 加入購物車 ");function O(t,e,c,O,h,g){var m=Object(o["resolveComponent"])("Loading");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(m,{active:h.isLoading},null,8,["active"]),Object(o["createVNode"])("div",d,[Object(o["createVNode"])("table",r,[a,Object(o["createVNode"])("tbody",null,[Object(o["createVNode"])("tr",null,[Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(h.product.category),1),Object(o["createVNode"])("td",n,[Object(o["createVNode"])("div",{style:[{height:"150px","background-size":"cover","background-position":"center"},{backgroundImage:"url(".concat(h.product.imageUrl,")")}]},null,4)]),Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(h.product.title),1),Object(o["createVNode"])("td",null,[h.product.origin_price===h.product.price?(Object(o["openBlock"])(),Object(o["createBlock"])("div",i,Object(o["toDisplayString"])(h.product.origin_price),1)):Object(o["createCommentVNode"])("",!0),h.product.origin_price>h.product.price?(Object(o["openBlock"])(),Object(o["createBlock"])("del",u,"原價 "+Object(o["toDisplayString"])(h.product.origin_price),1)):Object(o["createCommentVNode"])("",!0),h.product.origin_price>h.product.price?(Object(o["openBlock"])(),Object(o["createBlock"])("div",l," 特價 "+Object(o["toDisplayString"])(h.product.price),1)):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("div",s,[Object(o["createVNode"])("div",p,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return h.addQty=t}),type:"number",min:"1",class:"form-control",onChange:e[2]||(e[2]=function(){return t.checkAddQty&&t.checkAddQty.apply(t,arguments)})},null,544),[[o["vModelText"],h.addQty,void 0,{number:!0}]]),Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-primary",onClick:e[3]||(e[3]=function(t){return g.addToCart(h.product.id,h.product.title)}),disabled:h.addToCartItemId===h.product.id},[h.addToCartItemId===h.product.id?(Object(o["openBlock"])(),Object(o["createBlock"])("i",b)):Object(o["createCommentVNode"])("",!0),j],8,["disabled"])])])])])])])])],64)}c("99af");var h=c("1940"),g=c.n(h),m={data:function(){return{product:{},isLoading:!1,addToCartItemId:"",addQty:1}},watch:{addQty:function(){0===this.addQty&&(g()({title:"數量不可為0",icon:"error",button:!1,timer:1e3}),this.addQty=1)}},methods:{getProduct:function(){var t=this;this.isLoading=!0;var e=this.$route.params.id,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("fred8196","/product/").concat(e);this.$http.get(c).then((function(e){e.data.success&&(t.product=e.data.product,t.isLoading=!1)}))},addToCart:function(t,e){var c=this;this.addToCartItemId=t;var o="".concat("https://vue3-course-api.hexschool.io","/api/").concat("fred8196","/cart");this.$http.post(o,{data:{product_id:t,qty:this.addQty}}).then((function(t){t.data.success&&(g()({title:e+t.data.message,icon:"success",button:!1,timer:1e3}),c.addToCartItemId="")})).catch((function(t){console.log(t)}))}},mounted:function(){this.getProduct()}};m.render=O;e["default"]=m}}]);
//# sourceMappingURL=chunk-2d21de4f.de6ac3e0.js.map